@use "../variables" as *;
@use "../mixins";

.footer {
  // Fond général
  background-color: $color-primary;
  color: $color-white;
  width: 100%;
  height: 819px;
  // Conteneur principal pour le positionnement relatif du grand logo
  position: relative;
  overflow: hidden; // Cache le logo qui pourrait dépasser
  padding: 0 80px; // Padding horizontal pour aligner avec le reste du site
}

/* --- Bloc 1 : Contenu Principal (Newsletter, Nav, Social) --- */

.mainContent {
  // 1. Activer Flexbox pour aligner les colonnes
  display: flex;
  // 2. Répartir l'espace entre les colonnes
  justify-content: space-between;
  // 3. Padding vertical pour l'espace au-dessus et en dessous des colonnes
  padding-top: 100px;
  padding-bottom: 80px;

  position: relative; // Important pour s'assurer que le texte est au-dessus du grand logo
  z-index: 10;
}

/* --- Colonne 1 : Newsletter et Formulaire --- */

.newsletter {
  // Définit la largeur de la colonne Newsletter (à ajuster)
  width: 512px;
  height: 175px;

  .newsletterText {
    margin-bottom: 20px;
    font-family: $font-primary; // Poppins, ta police principale
    font-size: $font-size-base;
    font-weight: 400;
    line-height: 27px;
    letter-spacing: 0px;
  }

  .form {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;
  }

  .emailInput {
    // Style de l'input
    padding: 10px;
    border: 1px solid $color-white;
    background-color: $color-white;
    color: #667085;
    flex-grow: 1;
    width: 347px;
    height: 50px;

    &::placeholder {
      color: #667085;
      font-family: $font-tertiary;
      font-weight: 400;
      font-size: 16px;
      line-height: 100%;
      letter-spacing: 0%;
    }
  }

  .submitButton {
    // Style du bouton M'INSCRIRE (bouton rouge classique)
    background-color: $color-secondary;
    color: $color-white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    font-family: $font-tertiary;
    font-weight: 600;
    text-transform: uppercase;
  }

  .dataProtection {
    font-family: $font-primary;
    font-weight: 400;
    font-size: 14px;
    line-height: 27px;
    letter-spacing: 0%;
    a {
      font-family: $font-primary;
      font-weight: 400;
      font-size: 14px;
      line-height: 27px;
      letter-spacing: 0%;
      text-decoration: underline;
      text-decoration-style: solid;
      text-decoration-offset: 0%;
      text-decoration-thickness: 0%;
      text-decoration-skip-ink: auto;
      color: #475467;
    }
  }
}

/* --- Colonne 2 & 3 : Navigation & Social --- */

.navColumn,
.socialColumn {
  // Laisse Flexbox répartir l'espace restant
  width: auto;
}

.columnTitle {
  // Style du titre de colonne (FANMATCH, SOCIAL)

  font-family: $font-secondary;
  font-weight: 600;
  font-size: 20px;
  line-height: 20px;
  letter-spacing: 0%;
  text-transform: uppercase;
}

.footerNav,
.socialLinks {
  display: flex;
  flex-direction: column; // Empile les liens verticalement
  gap: 20px; // Espace entre les liens
  margin-top: 32px;

  a {
    font-family: $font-primary;
    font-weight: 500;
    font-size: 16px;
    line-height: 20px;
    letter-spacing: 0%;

    &:hover {
      text-decoration: underline;
    }
  }
}

.socialLinks {
  flex-direction: column;

  // Espace entre les icônes sociales
  a {
    margin-bottom: 15px;
  }
}

/* --- Grand Logo FANMATCH (Calque de Fond) --- */

.logoGiant {
  // Positionnement absolu pour flotter derrière le contenu
  position: absolute;
  // Centrage avec des valeurs absolues (à affiner selon la taille exacte de l'image)
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); // Centrage parfait
  width: 1280px;
  height: 288px;
  margin-top: 70px;
  margin-bottom: 65px;
}

/* --- Bloc 2 : Informations Légales --- */

.legalInfo {
  // S'assurer qu'il est bien sous le grand logo et aligné
  margin-top: 300px;
  // Utiliser Flexbox pour aligner le copyright et les mentions légales
  display: flex;
  justify-content: space-between;
  align-items: center;

  // Padding vertical pour l'espace au-dessus et en dessous de cette ligne
  padding: 30px 0;

  // Style de la ligne de séparation (bordure supérieure)
  border-top: 1px solid rgba($color-white, 0.2);

  p,
  a {
    font-size: 12px;
    color: rgba($color-white, 0.7);
    text-decoration: none;
  }
}

.redBaniere {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 100vw;
  max-width: none;
  height: 60px;
  top: 0; /* Affiche la bannière avant le mainContent */
  background-color: $color-secondary;
  color: $color-white;
  z-index: 20; /* Au-dessus du mainContent (z-index:10) */
}
.baniereContent {
  font-family: $font-primary;
  font-weight: 400;
  font-size: $font-size-base;
  line-height: 20px;
  letter-spacing: 0%;
}
.gras {
  font-weight: 700;
}

@include mixins.mobile {
  .footer {
    /* remove large horizontal padding so full-bleed elements can span */
    padding: 0 12px;
    overflow: visible; /* allow full-bleed banner to show */
    height: auto;
  }

  /* Make the red banner truly full-bleed on mobile */
  .redBaniere {
    left: 0;
    transform: none;
    width: 100%;
    /* add a slightly larger top offset so it doesn't overlap the section title */
    top: 0px;
    bottom: 20px;
  }

  /* Stack the three columns vertically */
  .mainContent {
    flex-direction: column;
    align-items: flex-start;
    /* Add extra top padding so the red banner doesn't overlap the main title */
    padding-top: 92px;
    padding-bottom: 32px;
    gap: 24px;
  }

  /* Newsletter: form fields full-width */
  .newsletter {
    width: 100%;

    .form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
    }

    .emailInput {
      width: 100%;
      flex-grow: 0;
    }

    .submitButton {
      width: 100%;
    }
  }

  /* Nav and social become full width (stacked) */
  .navColumn,
  .socialColumn {
    width: 100%;
    justify-content: space-between;
    display: flex;
    flex-direction: column;
    margin-top: 20px;
  }

  .footerNav,
  .socialLinks {
    margin-top: 12px;
  }

  /* Align social icons horizontally on mobile */
  .socialLinks {
    display: flex;
    flex-direction: row;
    gap: 30px;
    margin-top: 20px;

    a {
      margin-bottom: 0;
      display: inline-flex;
      align-items: center;
    }
  }

  /* Hide or strongly reduce the giant background logo on mobile */
  .logoGiant {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 290px; /* reduced size for mobile */
    height: auto;
    padding-top: 50px;
  
    pointer-events: none;
    z-index: 5;
  }

  /* Legal info stacked vertically */
  .legalInfo {
    margin-top: 140px; /* make room for the decorative logo */
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

  /* Ensure banner text has comfortable padding on small screens */
  .baniereContent {
    padding: 0 12px;
    font-size: 14px;
  }
}
